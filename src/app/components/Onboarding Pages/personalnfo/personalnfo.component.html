<div class="container">
  <div class="nav" style="padding: 20px;">
    <i class="arrow left icon" style="margin-bottom:20px; cursor: pointer;" (click)="navigate()"></i>
  </div>
  <app-error-page [errorMessage]='errorMessage'></app-error-page>
  <div class="header">
    <h3>We want to know more about you</h3>
    <small>Kindly provide us with the details below so we can get to know you.</small>
  </div>
  <div class="form" @fade>
    <form [formGroup]="personalDetailsForm" style="margin-bottom: 30px">
      <div class="form-group">
        <label for="title">Title</label>
        <select class="form-control" formControlName='title'>
          <option *ngFor="let title of titles" [value]="title">{{ title }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="firstname">First name</label>
        <input type="text" class="form-control" id="firstName" aria-describedby="emailHelp"
          placeholder="your first name" formControlName="firstName">
      </div>
      <div class="form-group">
        <label for="lastName">Last name</label>
        <input type="text" class="form-control" id="lastname" placeholder="your last name" formControlName="lastName">
      </div>
      <div class="form-group">
        <label for="firstname">Phone Number</label>
        <input type="text" class="form-control" id="phone" aria-describedby="phoneHelp" placeholder="your digits"
          pattern="^(\d{11})" formControlName="phoneNumber">
      </div>
      <div class="form-group">
        <label for="lastName">Email Address</label>
        <input type="email" class="form-control" id="email" placeholder="your email" formControlName="email">
      </div>
      <mat-checkbox style="font-family: 'Open Sans', sans-serif;" formControlName="tandC">I accept the Terms and
        Conditions</mat-checkbox><br><br>

      <!-- reCaptcha -->
      <div class="recaptcha form-group"
        *ngIf="personalDetailsForm.controls['tandC'].value && personalDetailsForm.valid">
        <re-captcha (resolved)="resolved($event)" siteKey="6LfVDdIUAAAAAC9-UMEc75aMTrJnRy5FIXlL9YrM"></re-captcha>
      </div>

      <button class="btn btn-primary" (click)="submitTogetRefCode()" [disabled]="personalDetailsForm.invalid"
        *ngIf="personalDetailsForm.controls['tandC'].value && recaptchaIsValid" style="margin-top: 20px">
        <!-- <i class="fas fa-spin fa-spinner" *ngIf="loading"></i> -->
        {{ loading ? '..please wait a minute' : 'Submit'}}
      </button>
    </form>
  </div>
</div>